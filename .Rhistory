setwd("C:/Users/Administrator/Desktop/R/COVID-19-Analysis")
source('C:/Users/Administrator/Desktop/R/COVID-19-Analysis/Model_Predictions.R')
install.packages("tidyverse")
source('C:/Users/Administrator/Desktop/R/COVID-19-Analysis/Model_Predictions.R')
install.packages("data.table")
source('C:/Users/Administrator/Desktop/R/COVID-19-Analysis/Model_Predictions.R')
print(str_c("There will be ",f1(length(inUS)-f1(length(US)-1))," more cases in the US today"))
print(str_c("There will be ",f1(length(inUS)-f1(length(inUS)-1))," more cases in the US today"))
print(str_c("There will be ",2.7^f1(length(inUS)  - 2.7^f1(length(inUS)-1))," more cases in the US today"))
print(str_c("There will be ",2.7^f1(length(inUS)  - 2.7^f1(length(inUS)-1))," more cases in the US today"))
USpredictions %>% ggplot(mapping = aes(x = day,color = model)) +
geom_line(mapping = aes(y = value)) + labs(x = "Days since January 22nd", y = "Log of US population",
title = "3 model predictions for when #Confirmed = US population")
print(str_c("Given data from the last week there are " ,(log(us)-USmodel2$coefficients[1]) / (USmodel2$coefficients[2])," days from 1-22 until #Confirmed = US population" ))
93-52
# In US
p <- domestic %>% ggplot(mapping = aes(x = day,color = `Rate Type`))
p + geom_line(mapping = aes(y = value),size = 1) +
labs(x = "Days since January 22nd 2020",
y = "Number of people",
title = "Increase in Infection, Recovery, and Mortatilty Rate in US")
p + geom_line(mapping = aes(y = log(value)),size = 1) +
labs(x = "Days since January 22nd 2020",
y = "Log Number of people",
title = "Increase in Infection, Recovery, and Mortatilty Rate in US")
USpredictions %>% ggplot(mapping = aes(x = day,color = model)) +
geom_line(mapping = aes(y = value)) + labs(x = "Days since January 22nd", y = "Log of US population",
title = "3 model predictions for when #Confirmed = US population")
print(str_c("Given all data there are " ,(log(us)-USmodel1$coefficients[1]) / (USmodel1$coefficients[2])," days from 1-22 until #Confirmed = US population" ))
-52
169-52
f1(length(inUS))
2.7^f1(length(inUS))
length(inUS)
inUS
2.7^f1(nrow(inUS)+1)
2.7^Wf1(nrow(earth)+1)
f2(nrow(inUS))
inUS
f2(nrow(inUS)+1)
2.7^f2(nrow(inUS))
#######################################################################
# Get a summary table of the increasing number of cases day by day #
# On Earth
earth <- data.frame()
for(i in h){
if(is_empty(earth)){
earth <- i %>% summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
mutate(active = confirms - deaths - recovers)
} else{
earth <- earth %>% rbind(i %>% summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T))) %>%
mutate(active = confirms - deaths - recovers)
}
}
4-2-1
for(i in h){
if(is_empty(earth)){
earth <- i %>% summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
mutate(active = confirms - deaths - recovers)
} else{
earth <- earth %>% rbind(i %>% summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T))) %>%
mutate(active = confirms - deaths - recovers)
}
}
()
#######################################################################
# Get a summary table of the increasing number of cases day by day #
# On Earth
earth <- data.frame()
for(i in h){
if(is_empty(earth)){
earth <- i %>% summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
mutate(active = confirms - deaths - recovers)
} else{
earth <- earth %>% rbind(i %>% summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T))) %>%
mutate(active = confirms - deaths - recovers)
}
}
for(i in h){
if(is_empty(earth)){
earth <- i %>% summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
mutate(active = confirms - deaths - recovers)
} else{
earth <- earth %>% rbind(i %>% summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
mutate(active = confirms - deaths - recovers))
}
}
View(earth)
source('C:/Users/Administrator/Desktop/R/COVID-19-Analysis/Analysis.R')
inUS
earth
Doom_model <- lm(log(deaths)~ day ,data = inUS)
Doom_model <- lm(log(deaths)~ day ,data = inUS)
inUS$deaths
Doom_model <- lm(log(deaths) ~ day ,data = inUS)
Doom_model <- lm(log(confirms) ~ day ,data = inUS)
Doom_model <- lm(deaths ~ day ,data = inUS)
plot(inUS$day,inUS$deaths)
doom <- ifelse(inUS$deaths == 0,1,inUS$deaths)
Doom_model <- lm(log(doom) ~ inUS$day)
Doom_model
Doom_model %>% summary
USpredictions %>% ggplot(mapping = aes(x = day,color = model)) +
geom_line(mapping = aes(y = value)) + labs(x = "Days since January 22nd", y = "Log of US population",
title = "3 model predictions for when #Confirmed = US population")
f1(nrow(inUS)+1)
exp(1)
exp(f1(nrow(inUS)+1))
exp(f1(1)
)
nrow(inUS
)
# :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: #
# :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: #
### Plots of confirms,deaths, and recovers in specific areas###################################################
# Worldwide
worldwide %>% ggplot(mapping = aes(x = day,y = value)) +
geom_line(mapping = aes(color = `Rate Type`),size = 1) +
labs(x = "Days since January 22nd 2020",
y = "Number of people",
title = "Increase in Infection, Recovery, and Mortatilty Rate Worldwide")
# In US
p <- domestic %>% ggplot(mapping = aes(x = day,color = `Rate Type`))
p + geom_line(mapping = aes(y = value),size = 1) +
labs(x = "Days since January 22nd 2020",
y = "Number of people",
title = "Increase in Infection, Recovery, and Mortatilty Rate in US")
p + geom_line(mapping = aes(y = log(value)),size = 1) +
labs(x = "Days since January 22nd 2020",
y = "Log Number of people",
title = "Increase in Infection, Recovery, and Mortatilty Rate in US")
# In Italy
domesticItaly %>% ggplot(mapping = aes(x = day,color = `Rate Type`)) +
geom_line(mapping = aes(y = value),size = 1) +
labs(x = "Days since January 22nd 2020",
y = "Number of people",
title = "Increase in Infection, Recovery, and Mortatilty Rate in Italy")
# In Iran
domesticIran %>% ggplot(mapping = aes(x = day, color = `Rate Type`)) +
geom_line(mapping = aes(y = log(value)),size= 1) +
labs(x = "Days since January 22nd 2020",
y = "Number of people",
title = "Increase in Infection,Recovery, and Mortality Rate in Iran")
# In Iran
domesticIran %>% ggplot(mapping = aes(x = day, color = `Rate Type`)) +
geom_line(mapping = aes(y = (value)),size= 1) +
labs(x = "Days since January 22nd 2020",
y = "Number of people",
title = "Increase in Infection,Recovery, and Mortality Rate in Iran")
# In Wisconsin
wisconsin %>% ggplot(mapping = aes(x = day, color = `Rate Type`)) +
geom_line(mapping = aes(y = log(value)),size= 1) +
labs(x = "Days since January 22nd 2020",
y = "Number of people",
title = "Increase in Infection,Recovery, and Mortality Rate in Wisconsin")
# In Wisconsin
wisconsin %>% ggplot(mapping = aes(x = day, color = `Rate Type`)) +
geom_line(mapping = aes(y = (value)),size= 1) +
labs(x = "Days since January 22nd 2020",
y = "Number of people",
title = "Increase in Infection,Recovery, and Mortality Rate in Wisconsin")
#Exponential Rates
USrates <- c()
for(i in 1:(nrow(inUS)-1)){
USrates[i] <- (inUS$confirms[i+1]/inUS$confirms[i])
}
USrates
summarySoFar <- h[[length(h)]] %>% group_by(`Country/Region`) %>%
summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
rbind(earthRecent) %>%  mutate(active = confirms-deaths-recovers) %>%
filter(confirms > 1000)
#Active Cases
earthRecent <- earth[nrow(earth),]
colnames(earthRecent)[1] <- "Country/Region"
earthRecent[1,1] <- "---Worldwide Total---"
summarySoFar <- h[[length(h)]] %>% group_by(`Country/Region`) %>%
summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
rbind(earthRecent) %>%  mutate(active = confirms-deaths-recovers) %>%
filter(confirms > 1000)
#Active Cases
earthRecent <- earth[nrow(earth),]
colnames(earthRecent)[1] <- "Country/Region"
earthRecent[1,1] <- "---Worldwide Total---"
summarySoFar <- h[[length(h)]] %>% group_by(`Country/Region`) %>%
summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
rbind(earthRecent) %>%  mutate(active = confirms-deaths-recovers) %>%
filter(confirms > 1000)
summarySoFar <- h[[length(h)]] %>% group_by(`Country/Region`) %>%
summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
rbind(earthRecent) %>%
filter(confirms > 1000)
summarySoFar <- h[[length(h)]] %>% group_by(`Country/Region`) %>%
summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T)) %>%
rbind(earthRecent) %>% filter(confirms > 1000)
summarySoFar <- h[[length(h)]] %>% group_by(`Country/Region`) %>%
summarize(confirms = sum(Confirmed,na.rm = T),
deaths = sum(Deaths,na.rm = T),
recovers = sum(Recovered,na.rm = T),
active = confirms - deaths - recovers) %>%
rbind(earthRecent) %>% filter(confirms > 1000)
summarySoFar
f1(nrow(inUS))
exp(f1(96))
exp(f2(96))
exp(f2(92))
exp(f2(93))
exp(f2(94))
exp(f2(95))
exp(f2(96))
exp(f2(nrow(inUS)+1))
exp(f2(nrow(inUS)+1)) - exp(f2(nrow(inUS)))
print(str_c("There will be at least ",exp(f4(nrow(inUS)+1)) - exp(f4(nrow(inUS)))," new ~confirmed~ cases in the US at the end of today."))
print(str_c("There will be at least ",exp(f3(nrow(inUS)+1)) - exp(f3(nrow(inUS)))," new ~confirmed~ cases in the US at the end of today."))
print(str_c("There will be at least ",exp(f2(nrow(inUS)+1)) - exp(f2(nrow(inUS)))," new ~confirmed~ cases in the US at the end of today."))
print(str_c("There will be at least ",exp(f3(nrow(inUS)+1)) - exp(f3(nrow(inUS)))," new ~confirmed~ cases in the US at the end of today."))
source('C:/Users/Administrator/Desktop/R/COVID-19-Analysis/Model_Predictions.R')
?round
f3 <- function(x){return(USmodel3$coefficients[1] + USmodel3$coefficients[2]*x)}
print(str_c("There will be at least ",round(exp(f3(nrow(inUS)+1)) - exp(f3(nrow(inUS))))," new ~confirmed~ cases in the US at the end of today."))
